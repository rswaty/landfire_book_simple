<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Randy Swaty">
<meta name="dcterms.date" content="2024-01-03">

<title>LANDFIRE-Powered Landscape Assessments - 2&nbsp; BpS Models</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./get-data.html" rel="next">
<link href="./bps-description.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./bps-model.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">BpS Models</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">LANDFIRE-Powered Landscape Assessments</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Background</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bps-description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">BpS Descriptions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bps-model.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">BpS Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./get-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Get LANDFIRE data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gis-explore.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Explore the spatial data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gis-map.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Make a map with LANDFIRE data</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#what-you-will-learn-here" id="toc-what-you-will-learn-here" class="nav-link active" data-scroll-target="#what-you-will-learn-here"><span class="header-section-number">2.1</span> What you will learn here</a></li>
  <li><a href="#download-and-install-syncrosim" id="toc-download-and-install-syncrosim" class="nav-link" data-scroll-target="#download-and-install-syncrosim"><span class="header-section-number">2.2</span> Download and install SyncroSim</a></li>
  <li><a href="#load-all-landfire-bps-models-using-the-landfire-package" id="toc-load-all-landfire-bps-models-using-the-landfire-package" class="nav-link" data-scroll-target="#load-all-landfire-bps-models-using-the-landfire-package"><span class="header-section-number">2.3</span> Load all LANDFIRE BpS models using the LANDFIRE Package</a></li>
  <li><a href="#isolate-a-subset-of-bps-models" id="toc-isolate-a-subset-of-bps-models" class="nav-link" data-scroll-target="#isolate-a-subset-of-bps-models"><span class="header-section-number">2.4</span> Isolate a subset of BpS models</a></li>
  <li><a href="#explore-the-models-you-are-interested-in" id="toc-explore-the-models-you-are-interested-in" class="nav-link" data-scroll-target="#explore-the-models-you-are-interested-in"><span class="header-section-number">2.5</span> Explore the models you are interested in</a></li>
  <li><a href="#additional-resources" id="toc-additional-resources" class="nav-link" data-scroll-target="#additional-resources"><span class="header-section-number">2.6</span> Additional Resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">BpS Models</span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Randy Swaty </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 3, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="what-you-will-learn-here" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="what-you-will-learn-here"><span class="header-section-number">2.1</span> What you will learn here</h2>
<p>For each Biophysical Setting (BpS, pre-European colonization ecosystem), LANDFIRE wanted to accomplish several things including:</p>
<ul>
<li>Document historical disturbances and their effects</li>
<li>Describe and estimate the historical amounts of up to 5 succession classes per BpS</li>
<li>Build a platform for understanding our ecosystems historically, and for gaming out how they might change under future conditions and management</li>
</ul>
<p>To do so we worked with hundreds of experts to build state-and-transition models in modeling software. We now use SyncorSim, which will be the focus of this page.</p>
<p>On this page you will find guidance on how to:</p>
<ul>
<li>Download and install SyncroSim</li>
<li>Load all LANDFIRE BpS models using the LANDFIRE Package</li>
<li>Isolate a subset of BpS models</li>
<li>Explore the models you are interested in</li>
</ul>
<p><em>Note, there are many resources for these steps on the internet, so this page will cover the highlights, and point to those resources at the bottom,</em></p>
</section>
<section id="download-and-install-syncrosim" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="download-and-install-syncrosim"><span class="header-section-number">2.2</span> Download and install SyncroSim</h2>
<p>Installing SyncroSim is similar to installing most software, i.e., you download the application, then click to start an installer, etc. A few points about this particular software:</p>
<ul>
<li>Find the software at https://syncrosim.com/</li>
<li>We typically accept all defaults when installing</li>
<li>Installing on a governmental machine will likely present challenges.</li>
</ul>
</section>
<section id="load-all-landfire-bps-models-using-the-landfire-package" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="load-all-landfire-bps-models-using-the-landfire-package"><span class="header-section-number">2.3</span> Load all LANDFIRE BpS models using the LANDFIRE Package</h2>
<p>While SyncroSim is powerful as downloaded, adding ‘packages’ will bring even more functionality. For our work you will need to add in the St-Sim and landfirevegmodels packages. In SyncroSim:</p>
<ol type="1">
<li>Go to File -&gt; Packages. Click the “Install” button. See “Packages Pane” screenshot below.</li>
<li>From the list check the “St-Sim” and “landfirevegmodels” packages, when click “OK”. The install will happen automatically. See “Select packages” screenshot below.</li>
<li>Close the “Packages” window.</li>
</ol>
<p>Once you have those packages installed, you are ready to bring in the LANDFIRE vegetation models. To do that will take a few steps:</p>
<p><em>Note: you will need internet for this section.</em></p>
<ol type="1">
<li>Go to File -&gt; New… This will bring up a “New Library” window.</li>
<li>In the New Library window highlight “landfirevegmodels” at the top of the window, <em>then</em> select “Reference Models” near the bottom. See “New Library Selections” screenshot below.</li>
<li>Note where the “Reference Models” library will be saved. Change if needed. Hit “OK”, then grab a beverage as this will take a few minutes.</li>
</ol>
<p><em>Note: an “Update Library” window may open once the Reference Models library is downloaded. Click “Apply” at the bottom of that window to proceed.</em></p>
<p>Once you complete these steps, SyncroSim will have downloaded and loaded the LANDFIRE BpS Reference Condition Models library into your “Library Explorer” window.</p>
<section id="screenshots-of-loading-landfire-package-and-reference-conditions-library" class="level4" data-number="2.3.0.1">
<h4 data-number="2.3.0.1" class="anchored" data-anchor-id="screenshots-of-loading-landfire-package-and-reference-conditions-library"><span class="header-section-number">2.3.0.1</span> Screenshots of loading LANDFIRE Package and Reference Conditions Library</h4>
<p><br></p>
<p><em>Packages Pane</em></p>
<p><img src="images/bps_models/packages1.JPG" class="img-fluid" alt="&quot;Packages pane in SyncroSim"></p>
<hr>
<p><br></p>
<p><em>Select packages</em></p>
<p><img src="images/bps_models/packages3.JPG" class="img-fluid" alt="Select Packages Pane with landfirevegetationmodels and St-Sim packages checked and ready to install."></p>
</section>
</section>
<section id="isolate-a-subset-of-bps-models" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="isolate-a-subset-of-bps-models"><span class="header-section-number">2.4</span> Isolate a subset of BpS models</h2>
<p>We assume you will not want to explore all 900+ LANDFIRE models, so outline how to subset one or more individual models below.</p>
<ol type="1">
<li>For good luck close and re-open SyncroSim. Seriously, after installing packages and libraries some of the functions just work better if you do so.</li>
<li>If it is not there, open the LANDFIRE BpS Reference Condition Models library by going to File -&gt; Open then navigating to the “Reference-Condition-Models.ssim” file, likely in your SyncroSim directory. You will then click “Open”.</li>
<li>Once opened, the LANDFIRE BpS Reference Condition Models will be in the Library Explorer pane. You will also see, within the library, a “project” named “Definitions” and a “Scenaro” named “Reference Condition Models”.<br>
</li>
<li>Click the “Reference Condition Models” scenario once to highlight it. See “Select Scenario” screenshot below.</li>
<li>Go to Edit -&gt; Export LFVM Strata to bring up the selection window. See “Export Strata” screenshot below.</li>
<li>Once at the Export LFVM Strata window, you will check the BpSs of interest, give a file name for the new library and assign a folder that it will be saved to. See “Create new library with selected strata” screenshot below.</li>
</ol>
<p><em>Note: we do not suggest selecting many strata at once until you are familiar with the modeling process. Stick to 1-3 initially.</em></p>
<section id="screenshots-of-isolating-a-model" class="level4" data-number="2.4.0.1">
<h4 data-number="2.4.0.1" class="anchored" data-anchor-id="screenshots-of-isolating-a-model"><span class="header-section-number">2.4.0.1</span> Screenshots of Isolating a model</h4>
<p><br></p>
<p><em>Select scenario</em></p>
<p><img src="images/bps_models/highlight_strata.jpg" class="img-fluid" alt="&quot;Highlighting a scenario in SyncroSim in the Library Explorer pane"></p>
<hr>
<p><br></p>
<p><em>Export Strata</em></p>
<p><img src="images/bps_models/new_library_window.JPG" class="img-fluid" alt="Export strata tool."></p>
<hr>
<p><br></p>
<p><em>Create new library with selected strata</em></p>
<p><img src="images/bps_models/make_new_library_strata.JPG" class="img-fluid" alt="Export strata tool with specific strata selected, a new library name and a location for the new library. "></p>
<p><br></p>
<hr>
</section>
</section>
<section id="explore-the-models-you-are-interested-in" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="explore-the-models-you-are-interested-in"><span class="header-section-number">2.5</span> Explore the models you are interested in</h2>
<p>OK you are doing a great job. Now you have a library with a subset of strata (i.e., BpSs in this case) that you care about. Now what?</p>
<p>By exploring the BpS models you can learn how the modeling experts parameterized them, and more interactively see how the disturbances and states all fit together.</p>
<p>Start exploring:</p>
<ol type="1">
<li>Double click on “Reference Condition Models” then the Transition Pathways tab.<br>
</li>
<li>To make viewing easier go to Window -&gt; Arrange All.</li>
<li>At the bottom will be tabs of all of the BpSs that are in this library. Click any one. See “Transitions Pane”.</li>
<li>Click on any box to see the pathways associated with that state (i.e., succession class).</li>
<li>If you want to run the scenario:
<ul>
<li>Go to “Output Options” tab within the scenario, make sure that the “State classes every” box is set to 100 (i.e., not “1”). See “State Class Outputs” screenshot below.</li>
<li>Go to “Run Control tab” and set the ‘Total iterations’ to 2.</li>
<li>In the “Initial Conditions” tab, insure that the “Total Acres”and “Number of Simulation cells” boxes both have “1,000” For exploring we recommend these three steps as it will speed up your runs.</li>
<li>In the Library Explorer highlight the scenario, then click the small green triangle at the top of the screen. See “Run your model” screenshot below.</li>
</ul></li>
<li>Make a chart by clicking the “New” icon in the “Charts” pane, then name it appropriately. See “Start new chart” screenshot below. You will change some settings to get your first chart:
<ul>
<li>Change Line Chart to Column Chart (top left of window)</li>
<li>Under “State Classes” select “Proportion”</li>
<li>Under “Disaggregate by” check the “State Class” box</li>
<li>Under “Include Data For”, click “State Class” then select the appropriate state classes</li>
<li><em>Note: if you have multiple BpSs, you will also want to go to and select one “Model” under the “Include Data For” dropdown</em></li>
<li>Click “Apply”</li>
</ul></li>
</ol>
<p>See “Set up your column chart” screenshot below.</p>
<p>“State Class Outputs” “Run your model” “Set up your column chart”</p>
<section id="screenshots-of-running-a-model-and-making-a-chart" class="level4" data-number="2.5.0.1">
<h4 data-number="2.5.0.1" class="anchored" data-anchor-id="screenshots-of-running-a-model-and-making-a-chart"><span class="header-section-number">2.5.0.1</span> Screenshots of Running a Model and Making a Chart</h4>
<p><br></p>
<p><em>State Class Outputs</em></p>
<p><img src="images/bps_models/state_class_outputs.JPG" class="img-fluid" alt="Setting up state class outputs "></p>
<hr>
<p><br></p>
<p><em>Run your model</em></p>
<p><img src="images/bps_models/select_scenario.JPG" class="img-fluid" alt="Highlighting the run button in SyncroSim"></p>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><br></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><br></td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>Set up your column chart</em></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><img src="images/bps_models/set_up_chart.JPG" class="img-fluid" alt="Setting up new chart"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><br></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="additional-resources" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="additional-resources"><span class="header-section-number">2.6</span> Additional Resources</h2>
<ul>
<li>https://thenatureconservancy.github.io/landfiremodels/</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./bps-description.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">BpS Descriptions</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./get-data.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Get LANDFIRE data</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>